<!-- Single post item, which is displayed in a list -->
<article class="blog-post">
    <!-- Post heading -->
    <h2><a href="{{ .Permalink }}">{{ with .Params.group }}{{ . }}&nbsp;â€£&nbsp;{{ end }}{{ .Title | markdownify | plainify | safeHTML }}</a></h2>

    <!-- Post metadata -->
    {{- $dateFormat := default "Monday Jan 2, 2006" (index .Site.Params "date_format") -}}
    <div class="blog-post-meta"><time datetime="{{ .Date.Format `2006-01-02T15:04:05Z07:00` }}">{{ .Date.Format $dateFormat }}</time></div>

    <!-- Post body -->
    <div class="row blog-post-content">
        <!-- Post image -->
        <div class="col-xs-2 col-md-6 text-center mb-3 mb-md-0">
            {{- with .Params.image -}}
                {{- $url := . -}}
                <!-- Same logic as in the 'imgfig' shortcode: if it isn't a URL starting with "http(s)://", consider it a page resource -->
                {{- if not (or (hasPrefix $url "http://") (hasPrefix $url "https://")) -}}
                    {{- $url = ($.Page.Resources.GetMatch $url).RelPermalink -}}
                {{- end -}}
                {{- with $url }}<img class="img-fluid blog-post-image" src="{{ . }}" alt="Post image">{{ end -}}
            {{- end -}}
        </div>

        <div class="col-xs-10 col-md-6">
            <!-- Post summary -->
            <p>{{ with .Params.description }}{{ . | markdownify | plainify | safeHTML }}{{ else }}{{ .Summary | plainify | safeHTML }}{{ end }}</p>

            <!-- Read On link -->
            <p><a href="{{ .Permalink }}" class="btn btn-outline-primary">{{ T "readOn" }}</a></p>
        </div>
    </div>
</article>

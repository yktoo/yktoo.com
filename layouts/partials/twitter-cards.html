<!-- Hugo's _internal/twitter_cards.html reimplemented to support 'image' (instead of 'images') -->
<meta name="twitter:title" content="{{ partial `page-title-attr` . }}"/>
<meta name="twitter:description" content="{{ partial `page-summary-attr` . }}"/>

<!-- Twitter link -->
{{- with .Site.Params.Social.twitter -}}
<meta name="twitter:site" content="@{{ . }}"/>
<meta name="twitter:creator" content="@{{ . }}"/>
{{- end }}

<!-- Image, if any -->
{{- with $.Param "image" }}
    {{- $url := . }}
    {{- if not (findRE "^(/|http(s?)://)" $url) }}
        {{- $url = ($.Page.Resources.GetMatch $url).Permalink }}
    {{- end }}
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="{{ $url | absURL }}"/>
{{- end }}
